{"version":3,"sources":["../../../server/app/controllers/partyController.js"],"names":["PartyController","req","res","body","name","status","send","error","hqAddress","logoUrl","party","id","parties","length","push","data","dataArray","forEach","parseInt","params","message","partyController"],"mappings":"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","file":"partyController.js","sourcesContent":["/* eslint-disable no-param-reassign */\n/* eslint-disable class-methods-use-this */\nimport parties from '../model/parties';\n\nclass PartyController {\n  addParty(req, res) {\n    if (!req.body.name) {\n      return res.status(400).send({\n        status: 400,\n        error: 'Party name is required',\n      });\n    }\n    if (!req.body.hqAddress) {\n      return res.status(400).send({\n        status: 400,\n        error: 'HQ address is required',\n      });\n    }\n    if (!req.body.logoUrl) {\n      return res.status(400).send({\n        status: 400,\n        error: 'Logo Url is required',\n      });\n    }\n    const party = {\n      id: parties.length + 1,\n      name: req.body.name,\n      hqAddress: req.body.hqAddress,\n      logoUrl: req.body.logoUrl,\n    };\n    parties.push(party);\n\n    return res.status(201).send({\n      status: 201,\n      data: [{\n        id: party.id,\n        name: party.name,\n      }],\n    });\n  }\n\n  getAllParties(req, res) {\n    const dataArray = [];\n    parties.forEach((party) => {\n      const data = {\n        id: party.id,\n        name: party.name,\n        logoUrl: party.logoUrl,\n      };\n      dataArray.push(data);\n    });\n\n    return res.status(200).send({\n      status: 200,\n      data: dataArray,\n    });\n  }\n\n  getOneParty(req, res) {\n    const id = parseInt(req.params.id, 10);\n    parties.forEach((party) => {\n      if (party.id === id) {\n        return res.status(200).send({\n          status: 200,\n          data: [{\n            id: party.id,\n            name: party.name,\n            logoUrl: party.logoUrl,\n          }],\n        });\n      }\n    });\n    return res.status(404).send({\n      status: 404,\n      error: 'Party does not exist',\n    });\n  }\n\n  editParty(req, res) {\n    const id = parseInt(req.params.id, 10);\n    const { name } = req.body;\n\n    parties.forEach((party) => {\n      if (party.id === id) {\n        if (name) {\n          return res.status(200).send({\n            status: 200,\n            data: [{\n              id: party.id,\n              name,\n            }],\n          });\n        }\n        return res.status(400).send({\n          status: 400,\n          error: 'Party name is required',\n        });\n      }\n    });\n\n    return res.status(404).send({\n      status: 404,\n      error: 'Party does not exist',\n    });\n  }\n\n  deleteParty(req, res) {\n    const id = parseInt(req.params.id, 10);\n    parties.forEach((party) => {\n      if (party.id === id) {\n        delete parties[id - 1];\n        return res.status(200).send({\n          status: 200,\n          data: [{\n            message: `Party with id: ${id} deleted successfully`,\n          }],\n        });\n      }\n    });\n    return res.status(404).send({\n      status: 404,\n      error: 'Party does not exist or has already been deleted',\n    });\n  }\n}\n\nconst partyController = new PartyController();\n\nexport default partyController;\n"]}