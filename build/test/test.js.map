{"version":3,"sources":["../../server/test/test.js"],"names":["chai","should","use","chaiHttp","partyEndPoint","officeEndPoint","describe","it","done","party","id","parties","length","name","hqAddress","logoUrl","request","server","post","send","end","err","res","have","status","body","data","be","a","property","get","forEach","item","input","patch","delete","office","offices","type"],"mappings":"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","file":"test.js","sourcesContent":["/* eslint-disable no-undef */\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport parties from '../app/model/parties';\nimport offices from '../app/model/offices';\nimport server from '../server';\n\nchai.should();\n\nchai.use(chaiHttp);\n\nconst partyEndPoint = '/api/v1/parties/';\nconst officeEndPoint = '/api/v1/offices/';\n\ndescribe('Party Tests', () => {\n  describe(`POST ${partyEndPoint}`, () => {\n    it('Should add a party', (done) => {\n      const party = {\n        id: parties.length + 1,\n        name: 'WAP',\n        hqAddress: 'Lagos Nigeria',\n        logoUrl: 'http://www.andelatest.com',\n      };\n      chai.request(server)\n        .post(partyEndPoint)\n        .send(party)\n        .end((err, res) => {\n          res.should.have.status(201);\n          res.body.data.should.be.a('array');\n          res.body.data[0].should.have.property('id');\n          res.body.data[0].should.have.property('name');\n          done();\n        });\n    });\n  });\n\n  describe(`GET ${partyEndPoint}`, () => {\n    it('Should get all parties', (done) => {\n      chai.request(server)\n        .get(partyEndPoint)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.data.forEach((item) => {\n            item.should.be.a('object');\n            item.id.should.be.a('number');\n            item.name.should.be.a('string');\n            item.logoUrl.should.be.a('string');\n          });\n          done();\n        });\n    });\n  });\n  describe(`GET ${partyEndPoint}id`, () => {\n    it('Should get a specific party', (done) => {\n      const id = 3;\n      chai.request(server)\n        .get(`${partyEndPoint}${id}`)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.data.should.be.a('array');\n          res.body.data[0].should.have.property('id');\n          res.body.data[0].should.have.property('name');\n          res.body.data[0].should.have.property('logoUrl');\n          done();\n        });\n    });\n  });\n  describe(`PATCH ${partyEndPoint}id/name`, () => {\n    it('Should edit a party', (done) => {\n      const input = {\n        name: 'andela',\n      };\n      const id = 1;\n      chai.request(server)\n        .patch(`${partyEndPoint}${id}/name`)\n        .send(input)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.data.should.be.a('array');\n          res.body.data[0].should.have.property('id');\n          res.body.data[0].should.have.property('name');\n          done();\n        });\n    });\n  });\n  describe(`DELETE ${partyEndPoint}id`, () => {\n    it('Should delete a party', (done) => {\n      const id = 5;\n      chai.request(server)\n        .delete(`${partyEndPoint}${id}`)\n        .end((err, res) => {\n          res.should.have.status(200);\n          done();\n        });\n    });\n  });\n});\n\ndescribe('Office Tests', () => {\n  describe(`POST ${officeEndPoint}`, () => {\n    it('Should add an office', (done) => {\n      const office = {\n        id: offices.length + 1,\n        type: 'Students Union Government',\n        name: 'Presidential',\n      };\n      chai.request(server)\n        .post(officeEndPoint)\n        .send(office)\n        .end((err, res) => {\n          res.should.have.status(201);\n          res.body.office.should.be.a('object');\n          res.body.office.should.have.property('id');\n          res.body.office.should.have.property('type');\n          res.body.office.should.have.property('name');\n          done();\n        });\n    });\n  });\n  describe(`GET ${officeEndPoint}`, () => {\n    it('Should get all offices', (done) => {\n      chai.request(server)\n        .get(officeEndPoint)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.offices.forEach((office) => {\n            office.should.be.a('object');\n            office.id.should.be.a('number');\n            office.type.should.be.a('string');\n          });\n          done();\n        });\n    });\n  });\n  describe(`GET ${officeEndPoint}id`, () => {\n    it('Should get a specific office', (done) => {\n      const id = 3;\n      chai.request(server)\n        .get(`${officeEndPoint}${id}`)\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.office.should.be.a('object');\n          res.body.office.should.have.property('id');\n          res.body.office.should.have.property('type');\n          res.body.office.should.have.property('name');\n          done();\n        });\n    });\n  });\n});\n"]}